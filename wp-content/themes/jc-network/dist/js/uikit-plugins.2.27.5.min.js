(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-grid',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";UI.component('grid',{defaults:{colwidth:'auto',animation:!0,duration:300,gutter:0,controls:!1,filter:!1,origin:UI.langdirection},boot:function(){UI.ready(function(context){UI.$('[data-uk-grid]',context).each(function(){var ele=UI.$(this);if(!ele.data('grid')){UI.grid(ele,UI.Utils.options(ele.attr('data-uk-grid')))}})})},init:function(){var $this=this,gutter=String(this.options.gutter).trim().split(' ');this.gutterv=parseInt(gutter[0],10);this.gutterh=parseInt((gutter[1]||gutter[0]),10);this.element.css({'position':'relative'});this.controls=null;this.origin=this.options.origin;if(this.options.controls){this.controls=UI.$(this.options.controls);this.controls.on('click','[data-uk-filter]',function(e){e.preventDefault();$this.filter(UI.$(this).attr('data-uk-filter'))});this.controls.on('click','[data-uk-sort]',function(e){e.preventDefault();var cmd=UI.$(this).attr('data-uk-sort').split(':');$this.sort(cmd[0],cmd[1])})} UI.$win.on('load resize orientationchange',UI.Utils.debounce(function(){if($this.currentfilter){$this.filter($this.currentfilter)}else{this.update()}}.bind(this),100));this.on('display.uk.check',function(){if($this.element.is(':visible'))$this.update()});UI.domObserve(this.element,function(e){$this.update()});if(this.options.filter!==!1){this.filter(this.options.filter)}else{this.update()}},_prepareElements:function(){var children=this.element.children().not('[data-grid-prepared]'),css;if(!children.length){return} css={position:'absolute',boxSizing:'border-box',width:this.options.colwidth=='auto'?'':this.options.colwidth};if(this.options.gutter){css['padding-'+this.origin]=this.gutterh;css['padding-bottom']=this.gutterv;this.element.css('margin-'+this.origin,this.gutterh*-1)} children.attr('data-grid-prepared','true').css(css)},update:function(elements){var $this=this;this._prepareElements();elements=elements||this.element.children(':visible');var children=elements,maxwidth=this.element.width()+(2*this.gutterh)+2,left=0,top=0,positions=[],item,width,height,pos,posi,i,z,max,size;this.trigger('beforeupdate.uk.grid',[children]);children.each(function(index){item=UI.$(this);size=this.getBoundingClientRect();width=size.width;height=size.height;left=0;top=0;for(i=0,max=positions.length;i<max;i++){pos=positions[i];if(left<=pos.aX){left=pos.aX} if(maxwidth<(left+width)){left=0} if(top<=pos.aY){top=pos.aY}} posi={ele:item,top:top,width:width,height:height,aY:(top+height),aX:(left+width)};posi[$this.origin]=left;positions.push(posi)});var posPrev,maxHeight=0,positionto;for(i=0,max=positions.length;i<max;i++){pos=positions[i];top=0;for(z=0;z<i;z++){posPrev=positions[z];if(pos[this.origin]<posPrev.aX&&(posPrev[this.origin]+1)<pos.aX){top=posPrev.aY}} pos.top=top;pos.aY=top+pos.height;maxHeight=Math.max(maxHeight,pos.aY)} maxHeight=maxHeight-this.gutterv;if(this.options.animation){this.element.stop().animate({'height':maxHeight},100);positions.forEach(function(pos){positionto={"top":pos.top,opacity:1};positionto[$this.origin]=pos[$this.origin];pos.ele.stop().animate(positionto,this.options.duration)}.bind(this))}else{this.element.css('height',maxHeight);positions.forEach(function(pos){positionto={"top":pos.top,opacity:1};positionto[$this.origin]=pos[$this.origin];pos.ele.css(positionto)}.bind(this))} setTimeout(function(){UI.$doc.trigger('scrolling.uk.document')},2*this.options.duration*(this.options.animation?1:0));this.trigger('afterupdate.uk.grid',[children])},filter:function(filter){this.currentfilter=filter;filter=filter||[];if(typeof(filter)==='number'){filter=filter.toString()} if(typeof(filter)==='string'){filter=filter.split(/,/).map(function(item){return item.trim()})} var $this=this,children=this.element.children(),elements={"visible":[],"hidden":[]},visible,hidden;children.each(function(index){var ele=UI.$(this),f=ele.attr('data-uk-filter'),infilter=filter.length?!1:!0;if(f){f=f.split(/,/).map(function(item){return item.trim()});filter.forEach(function(item){if(f.indexOf(item)>-1)infilter=!0})} elements[infilter?"visible":"hidden"].push(ele)});elements.hidden=UI.$(elements.hidden).map(function(){return this[0]});elements.visible=UI.$(elements.visible).map(function(){return this[0]});elements.hidden.attr('aria-hidden','true').filter(':visible').fadeOut(this.options.duration);elements.visible.attr('aria-hidden','false').filter(':hidden').css('opacity',0).show();$this.update(elements.visible);if(this.controls&&this.controls.length){this.controls.find('[data-uk-filter]').removeClass('uk-active').filter('[data-uk-filter="'+filter+'"]').addClass('uk-active')}},sort:function(by,order){order=order||1;if(typeof(order)==='string'){order=order.toLowerCase()=='desc'?-1:1} var elements=this.element.children();elements.sort(function(a,b){a=UI.$(a);b=UI.$(b);return(b.data(by)||'')<(a.data(by)||'')?order:(order*-1)}).appendTo(this.element);this.update(elements.filter(':visible'));if(this.controls&&this.controls.length){this.controls.find('[data-uk-sort]').removeClass('uk-active').filter('[data-uk-sort="'+by+':'+(order==-1?'desc':'asc')+'"]').addClass('uk-active')}}})});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-accordion',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";UI.component('accordion',{defaults:{showfirst:!0,collapse:!0,animate:!0,easing:'swing',duration:300,toggle:'.uk-accordion-title',containers:'.uk-accordion-content',clsactive:'uk-active'},boot:function(){UI.ready(function(context){setTimeout(function(){UI.$('[data-uk-accordion]',context).each(function(){var ele=UI.$(this);if(!ele.data('accordion')){UI.accordion(ele,UI.Utils.options(ele.attr('data-uk-accordion')))}})},0)})},init:function(){var $this=this;this.element.on('click.uk.accordion',this.options.toggle,function(e){e.preventDefault();$this.toggleItem(UI.$(this).data('wrapper'),$this.options.animate,$this.options.collapse)});this.update(!0);UI.domObserve(this.element,function(e){if($this.element.children($this.options.containers).length){$this.update()}})},toggleItem:function(wrapper,animated,collapse){var $this=this;wrapper.data('toggle').toggleClass(this.options.clsactive);wrapper.data('content').toggleClass(this.options.clsactive);var active=wrapper.data('toggle').hasClass(this.options.clsactive);if(collapse){this.toggle.not(wrapper.data('toggle')).removeClass(this.options.clsactive);this.content.not(wrapper.data('content')).removeClass(this.options.clsactive).parent().stop().css('overflow','hidden').animate({height:0},{easing:this.options.easing,duration:animated?this.options.duration:0}).attr('aria-expanded','false')} wrapper.stop().css('overflow','hidden');if(animated){wrapper.animate({height:active?getHeight(wrapper.data('content')):0},{easing:this.options.easing,duration:this.options.duration,complete:function(){if(active){wrapper.css({'overflow':'','height':'auto'});UI.Utils.checkDisplay(wrapper.data('content'))} $this.trigger('display.uk.check')}})}else{wrapper.height(active?'auto':0);if(active){wrapper.css({'overflow':''});UI.Utils.checkDisplay(wrapper.data('content'))} this.trigger('display.uk.check')} wrapper.attr('aria-expanded',active);this.element.trigger('toggle.uk.accordion',[active,wrapper.data('toggle'),wrapper.data('content')])},update:function(init){var $this=this,$content,$wrapper,$toggle;this.toggle=this.find(this.options.toggle);this.content=this.find(this.options.containers);this.content.each(function(index){$content=UI.$(this);if($content.parent().data('wrapper')){$wrapper=$content.parent()}else{$wrapper=UI.$(this).wrap('<div data-wrapper="true" style="overflow:hidden;height:0;position:relative;"></div>').parent();$wrapper.attr('aria-expanded','false')} $toggle=$this.toggle.eq(index);$wrapper.data('toggle',$toggle);$wrapper.data('content',$content);$toggle.data('wrapper',$wrapper);$content.data('wrapper',$wrapper)});this.element.trigger('update.uk.accordion',[this]);if(init&&this.options.showfirst){this.toggleItem(this.toggle.eq(0).data('wrapper'),!1,!1)}}});function getHeight(ele){var $ele=UI.$(ele),height="auto";if($ele.is(":visible")){height=$ele.outerHeight()}else{var tmp={position:$ele.css('position'),visibility:$ele.css('visibility'),display:$ele.css('display')};height=$ele.css({position:'absolute',visibility:'hidden',display:'block'}).outerHeight();$ele.css(tmp)} return height} return UI.accordion});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-autocomplete',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var active;UI.component('autocomplete',{defaults:{minLength:3,param:'search',method:'post',delay:300,loadingClass:'uk-loading',flipDropdown:!1,skipClass:'uk-skip',hoverClass:'uk-active',source:null,renderer:null,template:'<ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">{{~items}}<li data-value="{{$item.value}}"><a>{{$item.value}}</a></li>{{/items}}</ul>'},visible:!1,value:null,selected:null,boot:function(){UI.$html.on('focus.autocomplete.uikit','[data-uk-autocomplete]',function(e){var ele=UI.$(this);if(!ele.data('autocomplete')){UI.autocomplete(ele,UI.Utils.options(ele.attr('data-uk-autocomplete')))}});UI.$html.on('click.autocomplete.uikit',function(e){if(active&&e.target!=active.input[0])active.hide()})},init:function(){var $this=this,select=!1,trigger=UI.Utils.debounce(function(e){if(select){return(select=!1)} $this.handle()},this.options.delay);this.dropdown=this.find('.uk-dropdown');this.template=this.find('script[type="text/autocomplete"]').html();this.template=UI.Utils.template(this.template||this.options.template);this.input=this.find("input:first").attr("autocomplete","off");if(!this.dropdown.length){this.dropdown=UI.$('<div class="uk-dropdown"></div>').appendTo(this.element)} if(this.options.flipDropdown){this.dropdown.addClass('uk-dropdown-flip')} this.dropdown.attr('aria-expanded','false');this.input.on({keydown:function(e){if(e&&e.which&&!e.shiftKey&&$this.visible){switch(e.which){case 13:select=!0;if($this.selected){e.preventDefault();$this.select()} break;case 38:e.preventDefault();$this.pick('prev',!0);break;case 40:e.preventDefault();$this.pick('next',!0);break;case 27:case 9:$this.hide();break;default:break}}},keyup:trigger});this.dropdown.on('click','.uk-autocomplete-results > *',function(){$this.select()});this.dropdown.on('mouseover','.uk-autocomplete-results > *',function(){$this.pick(UI.$(this))});this.triggercomplete=trigger},handle:function(){var $this=this,old=this.value;this.value=this.input.val();if(this.value.length<this.options.minLength)return this.hide();if(this.value!=old){$this.request()} return this},pick:function(item,scrollinview){var $this=this,items=UI.$(this.dropdown.find('.uk-autocomplete-results').children(':not(.'+this.options.skipClass+')')),selected=!1;if(typeof item!=="string"&&!item.hasClass(this.options.skipClass)){selected=item}else if(item=='next'||item=='prev'){if(this.selected){var index=items.index(this.selected);if(item=='next'){selected=items.eq(index+1<items.length?index+1:0)}else{selected=items.eq(index-1<0?items.length-1:index-1)}}else{selected=items[(item=='next')?'first':'last']()} selected=UI.$(selected)} if(selected&&selected.length){this.selected=selected;items.removeClass(this.options.hoverClass);this.selected.addClass(this.options.hoverClass);if(scrollinview){var top=selected.position().top,scrollTop=$this.dropdown.scrollTop(),dpheight=$this.dropdown.height();if(top>dpheight||top<0){$this.dropdown.scrollTop(scrollTop+top)}}}},select:function(){if(!this.selected)return;var data=this.selected.data();this.trigger('selectitem.uk.autocomplete',[data,this]);if(data.value){this.input.val(data.value).trigger('change')} this.hide()},show:function(){if(this.visible)return;this.visible=!0;this.element.addClass('uk-open');if(active&&active!==this){active.hide()} active=this;this.dropdown.attr('aria-expanded','true');return this},hide:function(){if(!this.visible)return;this.visible=!1;this.element.removeClass('uk-open');if(active===this){active=!1} this.dropdown.attr('aria-expanded','false');return this},request:function(){var $this=this,release=function(data){if(data){$this.render(data)} $this.element.removeClass($this.options.loadingClass)};this.element.addClass(this.options.loadingClass);if(this.options.source){var source=this.options.source;switch(typeof(this.options.source)){case 'function':this.options.source.apply(this,[release]);break;case 'object':if(source.length){var items=[];source.forEach(function(item){if(item.value&&item.value.toLowerCase().indexOf($this.value.toLowerCase())!=-1){items.push(item)}});release(items)} break;case 'string':var params={};params[this.options.param]=this.value;UI.$.ajax({url:this.options.source,data:params,type:this.options.method,dataType:'json'}).done(function(json){release(json||[])});break;default:release(null)}}else{this.element.removeClass($this.options.loadingClass)}},render:function(data){this.dropdown.empty();this.selected=!1;if(this.options.renderer){this.options.renderer.apply(this,[data])}else if(data&&data.length){this.dropdown.append(this.template({items:data}));this.show();this.trigger('show.uk.autocomplete')} return this}});return UI.autocomplete});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-search',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";UI.component('search',{defaults:{msgResultsHeader:'Search Results',msgMoreResults:'More Results',msgNoResults:'No results found',template:'<ul class="uk-nav uk-nav-search uk-autocomplete-results">\ {{#msgResultsHeader}}<li class="uk-nav-header uk-skip">{{msgResultsHeader}}</li>{{/msgResultsHeader}}\ {{#items && items.length}}\ {{~items}}\ <li data-url="{{!$item.url}}">\ <a href="{{!$item.url}}">\ {{{$item.title}}}\ {{#$item.text}}<div>{{{$item.text}}}</div>{{/$item.text}}\ </a>\ </li>\ {{/items}}\ {{#msgMoreResults}}\ <li class="uk-nav-divider uk-skip"></li>\ <li class="uk-search-moreresults" data-moreresults="true"><a href="#" onclick="jQuery(this).closest(\'form\').submit();">{{msgMoreResults}}</a></li>\ {{/msgMoreResults}}\ {{/end}}\ {{^items.length}}\ {{#msgNoResults}}<li class="uk-skip"><a>{{msgNoResults}}</a></li>{{/msgNoResults}}\ {{/end}}\ </ul>',renderer:function(data){var opts=this.options;this.dropdown.append(this.template({items:data.results||[],msgResultsHeader:opts.msgResultsHeader,msgMoreResults:opts.msgMoreResults,msgNoResults:opts.msgNoResults}));this.show()}},boot:function(){UI.$html.on('focus.search.uikit','[data-uk-search]',function(e){var ele=UI.$(this);if(!ele.data('search')){UI.search(ele,UI.Utils.options(ele.attr('data-uk-search')))}})},init:function(){var $this=this;this.autocomplete=UI.autocomplete(this.element,this.options);this.autocomplete.dropdown.addClass('uk-dropdown-search');this.autocomplete.input.on("keyup",function(){$this.element[$this.autocomplete.input.val()?'addClass':'removeClass']('uk-active')}).closest("form").on("reset",function(){$this.value='';$this.element.removeClass('uk-active')});this.on('selectitem.uk.autocomplete',function(e,data){if(data.url){location.href=data.url}else if(data.moreresults){$this.autocomplete.input.closest('form').submit()}});this.element.data('search',this)}})});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-lightbox',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var modal,cache={};UI.component('lightbox',{defaults:{allowfullscreen:!0,duration:400,group:!1,keyboard:!0},index:0,items:!1,boot:function(){UI.$html.on('click','[data-uk-lightbox]',function(e){e.preventDefault();var link=UI.$(this);if(!link.data('lightbox')){UI.lightbox(link,UI.Utils.options(link.attr('data-uk-lightbox')))} link.data('lightbox').show(link)});UI.$doc.on('keyup',function(e){if(modal&&modal.is(':visible')&&modal.lightbox.options.keyboard){e.preventDefault();switch(e.keyCode){case 37:modal.lightbox.previous();break;case 39:modal.lightbox.next();break}}})},init:function(){var siblings=[];this.index=0;this.siblings=[];if(this.element&&this.element.length){var domSiblings=this.options.group?UI.$('[data-uk-lightbox*="'+this.options.group+'"]'):this.element;domSiblings.each(function(){var ele=UI.$(this);siblings.push({source:ele.attr('href'),title:ele.attr('data-title')||ele.attr('title'),type:ele.attr("data-lightbox-type")||'auto',link:ele})});this.index=domSiblings.index(this.element);this.siblings=siblings}else if(this.options.group&&this.options.group.length){this.siblings=this.options.group} this.trigger('lightbox-init',[this])},show:function(index){this.modal=getModal(this);this.modal.dialog.stop();this.modal.content.stop();var $this=this,promise=UI.$.Deferred(),data,item;index=index||0;if(typeof(index)=='object'){this.siblings.forEach(function(s,idx){if(index[0]===s.link[0]){index=idx}})} if(index<0){index=this.siblings.length-index}else if(!this.siblings[index]){index=0} item=this.siblings[index];data={lightbox:$this,source:item.source,type:item.type,index:index,promise:promise,title:item.title,item:item,meta:{content:'',width:null,height:null}};this.index=index;this.modal.content.empty();if(!this.modal.is(':visible')){this.modal.content.css({width:'',height:''}).empty();this.modal.modal.show()} this.modal.loader.removeClass('uk-hidden');promise.promise().done(function(){$this.data=data;$this.fitSize(data)}).fail(function(){data.meta.content='<div class="uk-position-cover uk-flex uk-flex-middle uk-flex-center"><strong>Loading resource failed!</strong></div>';data.meta.width=400;data.meta.height=300;$this.data=data;$this.fitSize(data)});$this.trigger('showitem.uk.lightbox',[data])},fitSize:function(){var $this=this,data=this.data,pad=this.modal.dialog.outerWidth()-this.modal.dialog.width(),dpadTop=parseInt(this.modal.dialog.css('margin-top'),10),dpadBot=parseInt(this.modal.dialog.css('margin-bottom'),10),dpad=dpadTop+dpadBot,content=data.meta.content,duration=$this.options.duration;if(this.siblings.length>1){content=[content,'<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-previous uk-hidden-touch" data-lightbox-previous></a>','<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-next uk-hidden-touch" data-lightbox-next></a>'].join('')} var tmp=UI.$('<div>&nbsp;</div>').css({opacity:0,position:'absolute',top:0,left:0,width:'100%',maxWidth:$this.modal.dialog.css('max-width'),padding:$this.modal.dialog.css('padding'),margin:$this.modal.dialog.css('margin')}),maxwidth,maxheight,w=data.meta.width,h=data.meta.height;tmp.appendTo('body').width();maxwidth=tmp.width();maxheight=window.innerHeight-dpad;tmp.remove();this.modal.dialog.find('.uk-modal-caption').remove();if(data.title){this.modal.dialog.append('<div class="uk-modal-caption">'+data.title+'</div>');maxheight-=this.modal.dialog.find('.uk-modal-caption').outerHeight()} if(maxwidth<data.meta.width){h=Math.floor(h*(maxwidth/w));w=maxwidth} if(maxheight<h){h=Math.floor(maxheight);w=Math.ceil(data.meta.width*(maxheight/data.meta.height))} this.modal.content.css('opacity',0).width(w).html(content);if(data.type=='iframe'){this.modal.content.find('iframe:first').height(h)} var dh=h+pad,t=Math.floor(window.innerHeight/2-dh/2)-dpad;if(t<0){t=0} this.modal.closer.addClass('uk-hidden');if($this.modal.data('mwidth')==w&&$this.modal.data('mheight')==h){duration=0} this.modal.dialog.animate({width:w+pad,height:h+pad,top:t},duration,'swing',function(){$this.modal.loader.addClass('uk-hidden');$this.modal.content.css({width:''}).animate({opacity:1},function(){$this.modal.closer.removeClass('uk-hidden')});$this.modal.data({mwidth:w,mheight:h})})},next:function(){this.show(this.siblings[(this.index+1)]?(this.index+1):0)},previous:function(){this.show(this.siblings[(this.index-1)]?(this.index-1):this.siblings.length-1)}});UI.plugin('lightbox','image',{init:function(lightbox){lightbox.on('showitem.uk.lightbox',function(e,data){if(data.type=='image'||data.source&&data.source.match(/\.(jpg|jpeg|png|gif|svg)$/i)){var resolve=function(source,width,height){data.meta={content:'<img class="uk-responsive-width" width="'+width+'" height="'+height+'" src ="'+source+'">',width:width,height:height};data.type='image';data.promise.resolve()};if(!cache[data.source]){var img=new Image();img.onerror=function(){data.promise.reject('Loading image failed')};img.onload=function(){cache[data.source]={width:img.width,height:img.height};resolve(data.source,cache[data.source].width,cache[data.source].height)};img.src=data.source}else{resolve(data.source,cache[data.source].width,cache[data.source].height)}}})}});UI.plugin('lightbox','youtube',{init:function(lightbox){var youtubeRegExp=/(\/\/.*?youtube\.[a-z]+)\/watch\?v=([^&]+)&?(.*)/,youtubeRegExpShort=/youtu\.be\/(.*)/;lightbox.on('showitem.uk.lightbox',function(e,data){var id,matches,resolve=function(id,width,height){data.meta={content:'<iframe src="//www.youtube.com/embed/'+id+'" width="'+width+'" height="'+height+'" style="max-width:100%;"'+(modal.lightbox.options.allowfullscreen?' allowfullscreen':'')+'></iframe>',width:width,height:height};data.type='iframe';data.promise.resolve()};if(matches=data.source.match(youtubeRegExp)){id=matches[2]} if(matches=data.source.match(youtubeRegExpShort)){id=matches[1]} if(id){if(!cache[id]){var img=new Image(),lowres=!1;img.onerror=function(){cache[id]={width:640,height:320};resolve(id,cache[id].width,cache[id].height)};img.onload=function(){if(img.width==120&&img.height==90){if(!lowres){lowres=!0;img.src='//img.youtube.com/vi/'+id+'/0.jpg'}else{cache[id]={width:640,height:320};resolve(id,cache[id].width,cache[id].height)}}else{cache[id]={width:img.width,height:img.height};resolve(id,img.width,img.height)}};img.src='//img.youtube.com/vi/'+id+'/maxresdefault.jpg'}else{resolve(id,cache[id].width,cache[id].height)} e.stopImmediatePropagation()}})}});UI.plugin('lightbox','vimeo',{init:function(lightbox){var regex=/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/,matches;lightbox.on('showitem.uk.lightbox',function(e,data){var id,resolve=function(id,width,height){data.meta={content:'<iframe src="//player.vimeo.com/video/'+id+'" width="'+width+'" height="'+height+'" style="width:100%;box-sizing:border-box;"'+(modal.lightbox.options.allowfullscreen?' allowfullscreen':'')+'></iframe>',width:width,height:height};data.type='iframe';data.promise.resolve()};if(matches=data.source.match(regex)){id=matches[2];if(!cache[id]){UI.$.ajax({type:'GET',url:'//vimeo.com/api/oembed.json?url='+encodeURI(data.source),jsonp:'callback',dataType:'jsonp',success:function(data){cache[id]={width:data.width,height:data.height};resolve(id,cache[id].width,cache[id].height)}})}else{resolve(id,cache[id].width,cache[id].height)} e.stopImmediatePropagation()}})}});UI.plugin('lightbox','video',{init:function(lightbox){lightbox.on('showitem.uk.lightbox',function(e,data){var resolve=function(source,width,height){data.meta={content:'<video class="uk-responsive-width" src="'+source+'" width="'+width+'" height="'+height+'" controls></video>',width:width,height:height};data.type='video';data.promise.resolve()};if(data.type=='video'||data.source.match(/\.(mp4|webm|ogv)$/i)){if(!cache[data.source]){var vid=UI.$('<video style="position:fixed;visibility:hidden;top:-10000px;"></video>').attr('src',data.source).appendTo('body');var idle=setInterval(function(){if(vid[0].videoWidth){clearInterval(idle);cache[data.source]={width:vid[0].videoWidth,height:vid[0].videoHeight};resolve(data.source,cache[data.source].width,cache[data.source].height);vid.remove()}},20)}else{resolve(data.source,cache[data.source].width,cache[data.source].height)}}})}});UI.plugin('lightbox','iframe',{init:function(lightbox){lightbox.on('showitem.uk.lightbox',function(e,data){var resolve=function(source,width,height){data.meta={content:'<iframe class="uk-responsive-width" src="'+source+'" width="'+width+'" height="'+height+'"'+(modal.lightbox.options.allowfullscreen?' allowfullscreen':'')+'></iframe>',width:width,height:height};data.type='iframe';data.promise.resolve()};if(data.type==='iframe'||data.source.match(/\.(html|php)$/)){resolve(data.source,(lightbox.options.width||800),(lightbox.options.height||600))}})}});function getModal(lightbox){if(modal){modal.lightbox=lightbox;return modal} modal=UI.$(['<div class="uk-modal">','<div class="uk-modal-dialog uk-modal-dialog-lightbox uk-slidenav-position" style="margin-left:auto;margin-right:auto;width:200px;height:200px;top:'+Math.abs(window.innerHeight/2-200)+'px;">','<a href="#" class="uk-modal-close uk-close uk-close-alt"></a>','<div class="uk-lightbox-content"></div>','<div class="uk-modal-spinner uk-hidden"></div>','</div>','</div>'].join('')).appendTo('body');modal.dialog=modal.find('.uk-modal-dialog:first');modal.content=modal.find('.uk-lightbox-content:first');modal.loader=modal.find('.uk-modal-spinner:first');modal.closer=modal.find('.uk-close.uk-close-alt');modal.modal=UI.modal(modal,{modal:!1});modal.on('swipeRight swipeLeft',function(e){modal.lightbox[e.type=='swipeLeft'?'next':'previous']()}).on('click','[data-lightbox-previous], [data-lightbox-next]',function(e){e.preventDefault();modal.lightbox[UI.$(this).is('[data-lightbox-next]')?'next':'previous']()});modal.on('hide.uk.modal',function(e){modal.content.html('')});var resizeCache={w:window.innerWidth,h:window.innerHeight};UI.$win.on('load resize orientationchange',UI.Utils.debounce(function(e){if(resizeCache.w!==window.innerWidth&&modal.is(':visible')&&!UI.Utils.isFullscreen()){modal.lightbox.fitSize()} resizeCache={w:window.innerWidth,h:window.innerHeight}},100));modal.lightbox=lightbox;return modal} UI.lightbox.create=function(items,options){if(!items)return;var group=[],o;items.forEach(function(item){group.push(UI.$.extend({source:'',title:'',type:'auto',link:!1},(typeof(item)=='string'?{'source':item}:item)))});o=UI.lightbox(UI.$.extend({},options,{'group':group}));return o};return UI.lightbox});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-slider',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var dragging,delayIdle,anchor,dragged,store={};UI.component('slider',{defaults:{center:!1,threshold:10,infinite:!0,autoplay:!1,autoplayInterval:7000,pauseOnHover:!0,activecls:'uk-active'},boot:function(){UI.ready(function(context){setTimeout(function(){UI.$('[data-uk-slider]',context).each(function(){var ele=UI.$(this);if(!ele.data('slider')){UI.slider(ele,UI.Utils.options(ele.attr('data-uk-slider')))}})},0)})},init:function(){var $this=this;this.container=this.element.find('.uk-slider');this.focus=0;UI.$win.on('resize load',UI.Utils.debounce(function(){$this.update(!0)},100));this.on('click.uk.slider','[data-uk-slider-item]',function(e){e.preventDefault();var item=UI.$(this).attr('data-uk-slider-item');if($this.focus==item)return;$this.stop();switch(item){case 'next':case 'previous':$this[item=='next'?'next':'previous']();break;default:$this.updateFocus(parseInt(item,10))}});this.container.on({'touchstart mousedown':function(evt){if(evt.originalEvent&&evt.originalEvent.touches){evt=evt.originalEvent.touches[0]} if(evt.button&&evt.button==2||!$this.active){return} $this.stop();anchor=UI.$(evt.target).is('a')?UI.$(evt.target):UI.$(evt.target).parents('a:first');dragged=!1;if(anchor.length){anchor.one('click',function(e){if(dragged)e.preventDefault()})} delayIdle=function(e){dragged=!0;dragging=$this;store={touchx:parseInt(e.pageX,10),dir:1,focus:$this.focus,base:$this.options.center?'center':'area'};if(e.originalEvent&&e.originalEvent.touches){e=e.originalEvent.touches[0]} dragging.element.data({'pointer-start':{x:parseInt(e.pageX,10),y:parseInt(e.pageY,10)},'pointer-pos-start':$this.pos});$this.container.addClass('uk-drag');delayIdle=!1};delayIdle.x=parseInt(evt.pageX,10);delayIdle.threshold=$this.options.threshold},mouseenter:function(){if($this.options.pauseOnHover)$this.hovering=!0},mouseleave:function(){$this.hovering=!1}});this.update(!0);this.on('display.uk.check',function(){if($this.element.is(":visible")){$this.update(!0)}});this.element.find('a,img').attr('draggable','false');if(this.options.autoplay){this.start()} UI.domObserve(this.element,function(e){if($this.element.children(':not([data-slider-slide])').length){$this.update(!0)}})},update:function(focus){var $this=this,pos=0,maxheight=0,item,width,cwidth,size;this.items=this.container.children().filter(':visible');this.vp=this.element[0].getBoundingClientRect().width;this.container.css({'min-width':'','min-height':''});this.items.each(function(idx){item=UI.$(this).attr('data-slider-slide',idx);size=item.css({'left':'','width':''})[0].getBoundingClientRect();width=size.width;cwidth=item.width();maxheight=Math.max(maxheight,size.height);item.css({'left':pos,'width':width}).data({'idx':idx,'left':pos,'width':width,'cwidth':cwidth,'area':(pos+width),'center':(pos-($this.vp/2-cwidth/2))});pos+=width});this.container.css({'min-width':pos,'min-height':maxheight});if(this.options.infinite&&(pos<=(2*this.vp)||this.items.length<5)&&!this.itemsResized){this.container.children().each(function(idx){$this.container.append($this.items.eq(idx).clone(!0).attr('id',''))}).each(function(idx){$this.container.append($this.items.eq(idx).clone(!0).attr('id',''))});this.itemsResized=!0;return this.update()} this.cw=pos;this.pos=0;this.active=pos>=this.vp;this.container.css({'-ms-transform':'','-webkit-transform':'','transform':''});if(focus)this.updateFocus(this.focus)},updatePos:function(pos){this.pos=pos;this.container.css({'-ms-transform':'translateX('+pos+'px)','-webkit-transform':'translateX('+pos+'px)','transform':'translateX('+pos+'px)'})},updateFocus:function(idx,dir){if(!this.active){return} dir=dir||(idx>this.focus?1:-1);var item=this.items.eq(idx),area,i;if(this.options.infinite){this.infinite(idx,dir)} if(this.options.center){this.updatePos(item.data('center')*-1);this.items.filter('.'+this.options.activecls).removeClass(this.options.activecls);item.addClass(this.options.activecls)}else{if(this.options.infinite){this.updatePos(item.data('left')*-1)}else{area=0;for(i=idx;i<this.items.length;i++){area+=this.items.eq(i).data('width')} if(area>this.vp){this.updatePos(item.data('left')*-1)}else{if(dir==1){area=0;for(i=this.items.length-1;i>=0;i--){area+=this.items.eq(i).data('width');if(area==this.vp){idx=i;break} if(area>this.vp){idx=(i<this.items.length-1)?i+1:i;break}} if(area>this.vp){this.updatePos((this.container.width()-this.vp)*-1)}else{this.updatePos(this.items.eq(idx).data('left')*-1)}}}}} var left=this.items.eq(idx).data('left');this.items.removeClass('uk-slide-before uk-slide-after').each(function(i){if(i!==idx){UI.$(this).addClass(UI.$(this).data('left')<left?'uk-slide-before':'uk-slide-after')}});this.focus=idx;this.trigger('focusitem.uk.slider',[idx,this.items.eq(idx),this])},next:function(){var focus=this.items[this.focus+1]?(this.focus+1):(this.options.infinite?0:this.focus);this.updateFocus(focus,1)},previous:function(){var focus=this.items[this.focus-1]?(this.focus-1):(this.options.infinite?(this.items[this.focus-1]?this.items-1:this.items.length-1):this.focus);this.updateFocus(focus,-1)},start:function(){this.stop();var $this=this;this.interval=setInterval(function(){if(!$this.hovering)$this.next()},this.options.autoplayInterval)},stop:function(){if(this.interval)clearInterval(this.interval)},infinite:function(baseidx,direction){var $this=this,item=this.items.eq(baseidx),i,z=baseidx,move=[],area=0;if(direction==1){for(i=0;i<this.items.length;i++){if(z!=baseidx){area+=this.items.eq(z).data('width');move.push(this.items.eq(z))} if(area>this.vp){break} z=z+1==this.items.length?0:z+1} if(move.length){move.forEach(function(itm){var left=item.data('area');itm.css({'left':left}).data({left:left,area:(left+itm.data('width')),center:(left-($this.vp/2-itm.data('cwidth')/2))});item=itm})}}else{for(i=this.items.length-1;i>-1;i--){area+=this.items.eq(z).data('width');if(z!=baseidx){move.push(this.items.eq(z))} if(area>this.vp){break} z=z-1==-1?this.items.length-1:z-1} if(move.length){move.forEach(function(itm){var left=item.data('left')-itm.data('width');itm.css({'left':left}).data({left:left,area:(left+itm.data('width')),center:(left-($this.vp/2-itm.data('cwidth')/2))});item=itm})}}}});UI.$doc.on('mousemove.uk.slider touchmove.uk.slider',function(e){if(e.originalEvent&&e.originalEvent.touches){e=e.originalEvent.touches[0]} if(delayIdle&&Math.abs(e.pageX-delayIdle.x)>delayIdle.threshold){if(!window.getSelection().toString()){delayIdle(e)}else{dragging=delayIdle=!1}} if(!dragging){return} var x,xDiff,pos,dir,focus,item,next,diff,i,z,itm;if(e.clientX||e.clientY){x=e.clientX}else if(e.pageX||e.pageY){x=e.pageX-document.body.scrollLeft-document.documentElement.scrollLeft} focus=store.focus;xDiff=x-dragging.element.data('pointer-start').x;pos=dragging.element.data('pointer-pos-start')+xDiff;dir=x>dragging.element.data('pointer-start').x?-1:1;item=dragging.items.eq(store.focus);if(dir==1){diff=item.data('left')+Math.abs(xDiff);for(i=0,z=store.focus;i<dragging.items.length;i++){itm=dragging.items.eq(z);if(z!=store.focus&&itm.data('left')<diff&&itm.data('area')>diff){focus=z;break} z=z+1==dragging.items.length?0:z+1}}else{diff=item.data('left')-Math.abs(xDiff);for(i=0,z=store.focus;i<dragging.items.length;i++){itm=dragging.items.eq(z);if(z!=store.focus&&itm.data('area')<=item.data('left')&&itm.data('center')<diff){focus=z;break} z=z-1==-1?dragging.items.length-1:z-1}} if(dragging.options.infinite&&focus!=store._focus){dragging.infinite(focus,dir)} dragging.updatePos(pos);store.dir=dir;store._focus=focus;store.touchx=parseInt(e.pageX,10);store.diff=diff});UI.$doc.on('mouseup.uk.slider touchend.uk.slider',function(e){if(dragging){dragging.container.removeClass('uk-drag');dragging.items.eq(store.focus);var itm,focus=!1,i,z;if(store.dir==1){for(i=0,z=store.focus;i<dragging.items.length;i++){itm=dragging.items.eq(z);if(z!=store.focus&&itm.data('left')>store.diff){focus=z;break} z=z+1==dragging.items.length?0:z+1} if(!dragging.options.infinite&&!focus){focus=dragging.items.length}}else{for(i=0,z=store.focus;i<dragging.items.length;i++){itm=dragging.items.eq(z);if(z!=store.focus&&itm.data('left')<store.diff){focus=z;break} z=z-1==-1?dragging.items.length-1:z-1} if(!dragging.options.infinite&&!focus){focus=0}} dragging.updateFocus(focus!==!1?focus:store._focus)} dragging=delayIdle=!1});return UI.slider});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-slideset',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var Animations;UI.component('slideset',{defaults:{default:1,animation:'fade',duration:200,filter:'',delay:!1,controls:!1,autoplay:!1,autoplayInterval:7000,pauseOnHover:!0},sets:[],boot:function(){UI.ready(function(context){UI.$('[data-uk-slideset]',context).each(function(){var ele=UI.$(this);if(!ele.data('slideset')){UI.slideset(ele,UI.Utils.options(ele.attr('data-uk-slideset')))}})})},init:function(){var $this=this;this.activeSet=!1;this.list=this.element.find('.uk-slideset');this.nav=this.element.find('.uk-slideset-nav');this.controls=this.options.controls?UI.$(this.options.controls):this.element;UI.$win.on('resize load',UI.Utils.debounce(function(){$this.update()},100));$this.list.addClass('uk-grid-width-1-'+$this.options.default);['xlarge','large','medium','small'].forEach(function(bp){if(!$this.options[bp]){return} $this.list.addClass('uk-grid-width-'+bp+'-1-'+$this.options[bp])});this.on('click.uk.slideset','[data-uk-slideset-item]',function(e){e.preventDefault();if($this.animating){return} var set=UI.$(this).attr('data-uk-slideset-item');if($this.activeSet===set)return;switch(set){case 'next':case 'previous':$this[set=='next'?'next':'previous']();break;default:$this.show(parseInt(set,10))}});this.controls.on('click.uk.slideset','[data-uk-filter]',function(e){var ele=UI.$(this);if(ele.parent().hasClass('uk-slideset')){return} e.preventDefault();if($this.animating||$this.currentFilter==ele.attr('data-uk-filter')){return} $this.updateFilter(ele.attr('data-uk-filter'));$this._hide().then(function(){$this.update(!0,!0)})});this.on('swipeRight swipeLeft',function(e){$this[e.type=='swipeLeft'?'next':'previous']()});this.updateFilter(this.options.filter);this.update();this.element.on({mouseenter:function(){if($this.options.pauseOnHover)$this.hovering=!0},mouseleave:function(){$this.hovering=!1}});if(this.options.autoplay){this.start()} UI.domObserve(this.list,function(e){if($this.list.children(':visible:not(.uk-active)').length){$this.update(!1,!0)}})},update:function(animate,force){var visible=this.visible,i;this.visible=this.getVisibleOnCurrenBreakpoint();if(visible==this.visible&&!force){return} this.children=this.list.children().hide();this.items=this.getItems();this.sets=array_chunk(this.items,this.visible);for(i=0;i<this.sets.length;i++){this.sets[i].css({'display':'none'})} if(this.nav.length&&this.nav.empty()){for(i=0;i<this.sets.length;i++){this.nav.append('<li data-uk-slideset-item="'+i+'"><a></a></li>')} this.nav[this.nav.children().length==1?'addClass':'removeClass']('uk-invisible')} this.activeSet=!1;this.show(0,!animate)},updateFilter:function(currentfilter){var $this=this,filter;this.currentFilter=currentfilter;this.controls.find('[data-uk-filter]').each(function(){filter=UI.$(this);if(!filter.parent().hasClass('uk-slideset')){if(filter.attr('data-uk-filter')==$this.currentFilter){filter.addClass('uk-active')}else{filter.removeClass('uk-active')}}})},getVisibleOnCurrenBreakpoint:function(){var breakpoint=null,tmp=UI.$('<div style="position:absolute;height:1px;top:-1000px;width:100px"><div></div></div>').appendTo('body'),testdiv=tmp.children().eq(0),breakpoints=this.options;['xlarge','large','medium','small'].forEach(function(bp){if(!breakpoints[bp]||breakpoint){return} tmp.attr('class','uk-grid-width-'+bp+'-1-2').width();if(testdiv.width()==50){breakpoint=bp}});tmp.remove();return this.options[breakpoint]||this.options['default']},getItems:function(){var items=[],filter;if(this.currentFilter){filter=this.currentFilter||[];if(typeof(filter)==='string'){filter=filter.split(/,/).map(function(item){return item.trim()})} this.children.each(function(index){var ele=UI.$(this),f=ele.attr('data-uk-filter'),infilter=filter.length?!1:!0;if(f){f=f.split(/,/).map(function(item){return item.trim()});filter.forEach(function(item){if(f.indexOf(item)>-1)infilter=!0})} if(infilter)items.push(ele[0])});items=UI.$(items)}else{items=this.list.children()} return items},show:function(setIndex,noanimate,dir){var $this=this;if(this.activeSet===setIndex||this.animating){return} dir=dir||(setIndex<this.activeSet?-1:1);var current=this.sets[this.activeSet]||[],next=this.sets[setIndex],animation=this._getAnimation();if(noanimate||!UI.support.animation){animation=Animations.none} this.animating=!0;if(this.nav.length){this.nav.children().removeClass('uk-active').eq(setIndex).addClass('uk-active')} animation.apply($this,[current,next,dir]).then(function(){UI.Utils.checkDisplay(next,!0);$this.children.hide().removeClass('uk-active');next.addClass('uk-active').css({'display':'','opacity':''});$this.animating=!1;$this.activeSet=setIndex;UI.Utils.checkDisplay(next,!0);$this.trigger('show.uk.slideset',[next])})},_getAnimation:function(){var animation=Animations[this.options.animation]||Animations.none;if(!UI.support.animation){animation=Animations.none} return animation},_hide:function(){var $this=this,current=this.sets[this.activeSet]||[],animation=this._getAnimation();this.animating=!0;return animation.apply($this,[current,[],1]).then(function(){$this.animating=!1})},next:function(){this.show(this.sets[this.activeSet+1]?(this.activeSet+1):0,!1,1)},previous:function(){this.show(this.sets[this.activeSet-1]?(this.activeSet-1):(this.sets.length-1),!1,-1)},start:function(){this.stop();var $this=this;this.interval=setInterval(function(){if(!$this.hovering&&!$this.animating)$this.next()},this.options.autoplayInterval)},stop:function(){if(this.interval)clearInterval(this.interval)}});Animations={'none':function(){var d=UI.$.Deferred();d.resolve();return d.promise()},'fade':function(current,next){return coreAnimation.apply(this,['uk-animation-fade',current,next])},'slide-bottom':function(current,next){return coreAnimation.apply(this,['uk-animation-slide-bottom',current,next])},'slide-top':function(current,next){return coreAnimation.apply(this,['uk-animation-slide-top',current,next])},'slide-vertical':function(current,next,dir){var anim=['uk-animation-slide-top','uk-animation-slide-bottom'];if(dir==-1){anim.reverse()} return coreAnimation.apply(this,[anim,current,next])},'slide-horizontal':function(current,next,dir){var anim=['uk-animation-slide-right','uk-animation-slide-left'];if(dir==-1){anim.reverse()} return coreAnimation.apply(this,[anim,current,next,dir])},'scale':function(current,next){return coreAnimation.apply(this,['uk-animation-scale-up',current,next])}};UI.slideset.animations=Animations;function coreAnimation(cls,current,next,dir){var d=UI.$.Deferred(),delay=(this.options.delay===!1)?Math.floor(this.options.duration/2):this.options.delay,$this=this,clsIn,clsOut,release,i;dir=dir||1;this.element.css('min-height',this.element.height());if(next[0]===current[0]){d.resolve();return d.promise()} if(typeof(cls)=='object'){clsIn=cls[0];clsOut=cls[1]||cls[0]}else{clsIn=cls;clsOut=clsIn} UI.$body.css('overflow-x','hidden');release=function(){if(current&&current.length){current.hide().removeClass(clsOut+' uk-animation-reverse').css({'opacity':'','animation-delay':'','animation':''})} if(!next.length){d.resolve();return} for(i=0;i<next.length;i++){next.eq(dir==1?i:(next.length-i)-1).css('animation-delay',(i*delay)+'ms')} var finish=function(){next.removeClass(''+clsIn+'').css({opacity:'',display:'','animation-delay':'','animation':''});d.resolve();UI.$body.css('overflow-x','');$this.element.css('min-height','');finish=!1};next.addClass(clsIn)[dir==1?'last':'first']().one(UI.support.animation.end,function(){if(finish)finish()}).end().css('display','');setTimeout(function(){if(finish)finish()},next.length*delay*2)};if(next.length){next.css('animation-duration',this.options.duration+'ms')} if(current&&current.length){current.css('animation-duration',this.options.duration+'ms')[dir==1?'last':'first']().one(UI.support.animation.end,function(){release()});for(i=0;i<current.length;i++){(function(index,ele){setTimeout(function(){ele.css('display','none').css('display','').css('opacity',0).on(UI.support.animation.end,function(){ele.removeClass(clsOut)}).addClass(clsOut+' uk-animation-reverse')}.bind(this),i*delay)})(i,current.eq(dir==1?i:(current.length-i)-1))}}else{release()} return d.promise()} function array_chunk(input,size){var x,i=0,c=-1,l=input.length||0,n=[];if(size<1)return null;while(i<l){x=i%size;if(x){n[c][x]=input[i]}else{n[++c]=[input[i]]} i++} i=0;l=n.length;while(i<l){n[i]=jQuery(n[i]);i++} return n}});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-slideshow',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var Animations,playerId=0;UI.component('slideshow',{defaults:{animation:'fade',duration:500,height:'auto',start:0,autoplay:!1,autoplayInterval:7000,videoautoplay:!0,videomute:!0,slices:15,pauseOnHover:!0,kenburns:!1,kenburnsanimations:['uk-animation-middle-left','uk-animation-top-right','uk-animation-bottom-left','uk-animation-top-center','','uk-animation-bottom-right']},current:!1,interval:null,hovering:!1,boot:function(){UI.ready(function(context){UI.$('[data-uk-slideshow]',context).each(function(){var slideshow=UI.$(this);if(!slideshow.data('slideshow')){UI.slideshow(slideshow,UI.Utils.options(slideshow.attr('data-uk-slideshow')))}})})},init:function(){var $this=this;this.container=this.element.hasClass('uk-slideshow')?this.element:UI.$(this.find('.uk-slideshow:first'));this.current=this.options.start;this.animating=!1;this.fixFullscreen=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&this.container.hasClass('uk-slideshow-fullscreen');if(this.options.kenburns){this.kbanimduration=this.options.kenburns===!0?'15s':this.options.kenburns;if(!String(this.kbanimduration).match(/(ms|s)$/)){this.kbanimduration+='ms'} if(typeof(this.options.kenburnsanimations)=='string'){this.options.kenburnsanimations=this.options.kenburnsanimations.split(',')}} this.update();this.on('click.uk.slideshow','[data-uk-slideshow-item]',function(e){e.preventDefault();var slide=UI.$(this).attr('data-uk-slideshow-item');if($this.current==slide)return;switch(slide){case 'next':case 'previous':$this[slide=='next'?'next':'previous']();break;default:$this.show(parseInt(slide,10))} $this.stop()});UI.$win.on("resize load",UI.Utils.debounce(function(){$this.resize();if($this.fixFullscreen){$this.container.css('height',window.innerHeight);$this.slides.css('height',window.innerHeight)}},100));setTimeout(function(){$this.resize()},80);if(this.options.autoplay){this.start()} if(this.options.videoautoplay&&this.slides.eq(this.current).data('media')){this.playmedia(this.slides.eq(this.current).data('media'))} if(this.options.kenburns){this.applyKenBurns(this.slides.eq(this.current))} this.container.on({mouseenter:function(){if($this.options.pauseOnHover)$this.hovering=!0},mouseleave:function(){$this.hovering=!1}});this.on('swipeRight swipeLeft',function(e){$this[e.type=='swipeLeft'?'next':'previous']()});this.on('display.uk.check',function(){if($this.element.is(':visible')){$this.resize();if($this.fixFullscreen){$this.container.css('height',window.innerHeight);$this.slides.css('height',window.innerHeight)}}});UI.domObserve(this.element,function(e){if($this.container.children(':not([data-slideshow-slide])').not('.uk-slideshow-ghost').length){$this.update(!0)}})},update:function(resize){var $this=this,canvas,processed=0;this.slides=this.container.children();this.slidesCount=this.slides.length;if(!this.slides.eq(this.current).length){this.current=0} this.slides.each(function(index){var slide=UI.$(this);if(slide.data('processed')){return} var media=slide.children('img,video,iframe').eq(0),type='html';slide.data('media',media);slide.data('sizer',media);if(media.length){var placeholder;type=media[0].nodeName.toLowerCase();switch(media[0].nodeName){case 'IMG':var cover=UI.$('<div class="uk-cover-background uk-position-cover"></div>').css({'background-image':'url('+media.attr('src')+')'});if(media.attr('width')&&media.attr('height')){placeholder=UI.$('<canvas></canvas>').attr({width:media.attr('width'),height:media.attr('height')});media.replaceWith(placeholder);media=placeholder;placeholder=undefined} media.css({width:'100%',height:'auto',opacity:0});slide.prepend(cover).data('cover',cover);break;case 'IFRAME':var src=media[0].src,iframeId='sw-'+(++playerId);media.attr('src','').on('load',function(){if(index!==$this.current||(index==$this.current&&!$this.options.videoautoplay)){$this.pausemedia(media)} if($this.options.videomute){$this.mutemedia(media);var inv=setInterval((function(ic){return function(){$this.mutemedia(media);if(++ic>=4)clearInterval(inv)}})(0),250)}}).data('slideshow',$this).attr('data-player-id',iframeId).attr('src',[src,(src.indexOf('?')>-1?'&':'?'),'enablejsapi=1&api=1&player_id='+iframeId].join('')).addClass('uk-position-absolute');if(!UI.support.touch)media.css('pointer-events','none');placeholder=!0;if(UI.cover){UI.cover(media);media.attr('data-uk-cover','{}')} break;case 'VIDEO':media.addClass('uk-cover-object uk-position-absolute');placeholder=!0;if($this.options.videomute)$this.mutemedia(media)} if(placeholder){canvas=UI.$('<canvas></canvas>').attr({'width':media[0].width,'height':media[0].height});var img=UI.$('<img style="width:100%;height:auto;">').attr('src',canvas[0].toDataURL());slide.prepend(img);slide.data('sizer',img)}}else{slide.data('sizer',slide)} if($this.hasKenBurns(slide)){slide.data('cover').css({'-webkit-animation-duration':$this.kbanimduration,'animation-duration':$this.kbanimduration})} slide.data('processed',++processed);slide.attr('data-slideshow-slide',type)});if(processed){this.triggers=this.find('[data-uk-slideshow-item]');this.slides.attr('aria-hidden','true').removeClass('uk-active').eq(this.current).addClass('uk-active').attr('aria-hidden','false');this.triggers.filter('[data-uk-slideshow-item="'+this.current+'"]').addClass('uk-active')} if(resize&&processed){this.resize()}},resize:function(){if(this.container.hasClass('uk-slideshow-fullscreen'))return;var height=this.options.height;if(this.options.height==='auto'){height=0;this.slides.css('height','').each(function(){height=Math.max(height,UI.$(this).height())})} this.container.css('height',height);this.slides.css('height',height)},show:function(index,direction){if(this.animating||this.current==index)return;this.animating=!0;var $this=this,current=this.slides.eq(this.current),next=this.slides.eq(index),dir=direction?direction:this.current<index?1:-1,currentmedia=current.data('media'),animation=Animations[this.options.animation]?this.options.animation:'fade',nextmedia=next.data('media'),finalize=function(){if(!$this.animating)return;if(currentmedia&&currentmedia.is('video,iframe')){$this.pausemedia(currentmedia)} if(nextmedia&&nextmedia.is('video,iframe')){$this.playmedia(nextmedia)} next.addClass('uk-active').attr('aria-hidden','false');current.removeClass('uk-active').attr('aria-hidden','true');$this.animating=!1;$this.current=index;UI.Utils.checkDisplay(next,'[class*="uk-animation-"]:not(.uk-cover-background.uk-position-cover)');$this.trigger('show.uk.slideshow',[next,current,$this])};$this.applyKenBurns(next);if(!UI.support.animation){animation='none'} current=UI.$(current);next=UI.$(next);$this.trigger('beforeshow.uk.slideshow',[next,current,$this]);Animations[animation].apply(this,[current,next,dir]).then(finalize);$this.triggers.removeClass('uk-active');$this.triggers.filter('[data-uk-slideshow-item="'+index+'"]').addClass('uk-active')},applyKenBurns:function(slide){if(!this.hasKenBurns(slide)){return} var animations=this.options.kenburnsanimations,index=this.kbindex||0;slide.data('cover').attr('class','uk-cover-background uk-position-cover').width();slide.data('cover').addClass(['uk-animation-scale','uk-animation-reverse',animations[index].trim()].join(' '));this.kbindex=animations[index+1]?(index+1):0},hasKenBurns:function(slide){return(this.options.kenburns&&slide.data('cover'))},next:function(){this.show(this.slides[this.current+1]?(this.current+1):0,1)},previous:function(){this.show(this.slides[this.current-1]?(this.current-1):(this.slides.length-1),-1)},start:function(){this.stop();var $this=this;this.interval=setInterval(function(){if(!$this.hovering)$this.next()},this.options.autoplayInterval)},stop:function(){if(this.interval)clearInterval(this.interval)},playmedia:function(media){if(!(media&&media[0]))return;switch(media[0].nodeName){case 'VIDEO':if(!this.options.videomute){media[0].muted=!1} media[0].play();break;case 'IFRAME':if(!this.options.videomute){media[0].contentWindow.postMessage('{ "event": "command", "func": "unmute", "method":"setVolume", "value":1}','*')} media[0].contentWindow.postMessage('{ "event": "command", "func": "playVideo", "method":"play"}','*');break}},pausemedia:function(media){switch(media[0].nodeName){case 'VIDEO':media[0].pause();break;case 'IFRAME':media[0].contentWindow.postMessage('{ "event": "command", "func": "pauseVideo", "method":"pause"}','*');break}},mutemedia:function(media){switch(media[0].nodeName){case 'VIDEO':media[0].muted=!0;break;case 'IFRAME':media[0].contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}','*');break}}});Animations={'none':function(){var d=UI.$.Deferred();d.resolve();return d.promise()},'scroll':function(current,next,dir){var d=UI.$.Deferred();current.css('animation-duration',this.options.duration+'ms');next.css('animation-duration',this.options.duration+'ms');next.css('opacity',1).one(UI.support.animation.end,function(){current.css('opacity',0).removeClass(dir==-1?'uk-slideshow-scroll-backward-out':'uk-slideshow-scroll-forward-out');next.removeClass(dir==-1?'uk-slideshow-scroll-backward-in':'uk-slideshow-scroll-forward-in');d.resolve()}.bind(this));current.addClass(dir==-1?'uk-slideshow-scroll-backward-out':'uk-slideshow-scroll-forward-out');next.addClass(dir==-1?'uk-slideshow-scroll-backward-in':'uk-slideshow-scroll-forward-in');next.width();return d.promise()},'swipe':function(current,next,dir){var d=UI.$.Deferred();current.css('animation-duration',this.options.duration+'ms');next.css('animation-duration',this.options.duration+'ms');next.css('opacity',1).one(UI.support.animation.end,function(){current.css('opacity',0).removeClass(dir===-1?'uk-slideshow-swipe-backward-out':'uk-slideshow-swipe-forward-out');next.removeClass(dir===-1?'uk-slideshow-swipe-backward-in':'uk-slideshow-swipe-forward-in');d.resolve()}.bind(this));current.addClass(dir==-1?'uk-slideshow-swipe-backward-out':'uk-slideshow-swipe-forward-out');next.addClass(dir==-1?'uk-slideshow-swipe-backward-in':'uk-slideshow-swipe-forward-in');next.width();return d.promise()},'scale':function(current,next,dir){var d=UI.$.Deferred();current.css('animation-duration',this.options.duration+'ms');next.css('animation-duration',this.options.duration+'ms');next.css('opacity',1);current.one(UI.support.animation.end,function(){current.css('opacity',0).removeClass('uk-slideshow-scale-out');d.resolve()}.bind(this));current.addClass('uk-slideshow-scale-out');current.width();return d.promise()},'fade':function(current,next,dir){var d=UI.$.Deferred();current.css('animation-duration',this.options.duration+'ms');next.css('animation-duration',this.options.duration+'ms');next.css('opacity',1);if(!(next.data('cover')||next.data('placeholder'))){next.css('opacity',1).one(UI.support.animation.end,function(){next.removeClass('uk-slideshow-fade-in')}).addClass('uk-slideshow-fade-in')} current.one(UI.support.animation.end,function(){current.css('opacity',0).removeClass('uk-slideshow-fade-out');d.resolve()}.bind(this));current.addClass('uk-slideshow-fade-out');current.width();return d.promise()}};UI.slideshow.animations=Animations;window.addEventListener('message',function onMessageReceived(e){var data=e.data,iframe;if(typeof(data)=='string'){try{data=JSON.parse(data)}catch(err){data={}}} if(e.origin&&e.origin.indexOf('vimeo')>-1&&data.event=='ready'&&data.player_id){iframe=UI.$('[data-player-id="'+data.player_id+'"]');if(iframe.length){iframe.data('slideshow').mutemedia(iframe)}}},!1)});

(function(addon){var component;if(window.UIkit2){component=addon(UIkit2)} if(typeof define=='function'&&define.amd){define('uikit-slideshow-fx',['uikit'],function(){return component||addon(UIkit2)})}})(function(UI){"use strict";var Animations=UI.slideshow.animations;UI.$.extend(UI.slideshow.animations,{slice:function(current,next,dir,fromfx){if(!current.data('cover')){return Animations.fade.apply(this,arguments)} var d=UI.$.Deferred();var sliceWidth=Math.ceil(this.element.width()/this.options.slices),bgimage=next.data('cover').css('background-image'),ghost=UI.$('<li class="uk-slideshow-ghost"></li>').css({top:0,left:0,width:this.container.width(),height:this.container.height(),opacity:1,zIndex:15}),ghostWidth=ghost.width(),ghostHeight=ghost.height(),pos=fromfx=='slice-up'?ghostHeight:'0',bar;for(var i=0;i<this.options.slices;i++){if(fromfx=='slice-up-down'){pos=((i%2)+2)%2==0?'0':ghostHeight} var width=(i==this.options.slices-1)?sliceWidth:sliceWidth,clipto=('rect(0px, '+(width*(i+1))+'px, '+ghostHeight+'px, '+(sliceWidth*i)+'px)'),clipfrom;clipfrom=('rect(0px, '+(width*(i+1))+'px, 0px, '+(sliceWidth*i)+'px)');if(fromfx=='slice-up'||(fromfx=='slice-up-down'&&((i%2)+2)%2==0)){clipfrom=('rect('+ghostHeight+'px, '+(width*(i+1))+'px, '+ghostHeight+'px, '+(sliceWidth*i)+'px)')} bar=UI.$('<div class="uk-cover-background"></div>').css({'position':'absolute','top':0,'left':0,'width':ghostWidth,'height':ghostHeight,'background-image':bgimage,'clip':clipfrom,'opacity':0,'transition':'all '+this.options.duration+'ms ease-in-out '+(i*60)+'ms','-webkit-transition':'all '+this.options.duration+'ms ease-in-out '+(i*60)+'ms'}).data('clip',clipto);ghost.append(bar)} this.container.append(ghost);ghost.children().last().on(UI.support.transition.end,function(){setTimeout(function(){ghost.remove();d.resolve()},0)});ghost.width();ghost.children().each(function(){bar=UI.$(this);bar.css({clip:bar.data('clip'),opacity:1})});return d.promise()},'slice-up':function(current,next,dir){return Animations.slice.apply(this,[current,next,dir,'slice-up'])},'slice-down':function(current,next,dir){return Animations.slice.apply(this,[current,next,dir,'slice-down'])},'slice-up-down':function(current,next,dir){return Animations.slice.apply(this,[current,next,dir,'slice-up-down'])},fold:function(current,next,dir){if(!next.data('cover')){return Animations.fade.apply(this,arguments)} var d=UI.$.Deferred();var sliceWidth=Math.ceil(this.element.width()/this.options.slices),bgimage=next.data('cover').css('background-image'),ghost=UI.$('<li class="uk-slideshow-ghost"></li>').css({width:next.width(),height:next.height(),opacity:1,zIndex:15}),ghostWidth=next.width(),ghostHeight=next.height(),bar;for(var i=0;i<this.options.slices;i++){bar=UI.$('<div class="uk-cover-background"></div>').css({'position':'absolute','top':0,'left':0,'width':ghostWidth,'height':ghostHeight,'background-image':bgimage,'transform-origin':(sliceWidth*i)+'px 0 0','clip':('rect(0px, '+(sliceWidth*(i+1))+'px, '+ghostHeight+'px, '+(sliceWidth*i)+'px)'),'opacity':0,'transform':'scaleX(0.000001)','transition':'all '+this.options.duration+'ms ease-in-out '+(100+i*60)+'ms','-webkit-transition':'all '+this.options.duration+'ms ease-in-out '+(100+i*60)+'ms'});ghost.prepend(bar)} this.container.append(ghost);ghost.width();ghost.children().first().on(UI.support.transition.end,function(){setTimeout(function(){ghost.remove();d.resolve()},0)}).end().css({transform:'scaleX(1)',opacity:1});return d.promise()},puzzle:function(current,next,dir){if(!next.data('cover')){return Animations.fade.apply(this,arguments)} var d=UI.$.Deferred(),$this=this;var boxCols=Math.round(this.options.slices/2),boxWidth=Math.round(next.width()/boxCols),boxRows=Math.round(next.height()/boxWidth),boxHeight=Math.round(next.height()/boxRows)+1,bgimage=next.data('cover').css('background-image'),ghost=UI.$('<li class="uk-slideshow-ghost"></li>').css({width:this.container.width(),height:this.container.height(),opacity:1,zIndex:15}),ghostWidth=this.container.width(),ghostHeight=this.container.height(),box,rect,width;for(var rows=0;rows<boxRows;rows++){for(var cols=0;cols<boxCols;cols++){width=(cols==boxCols-1)?(boxWidth+2):boxWidth;rect=[(boxHeight*rows)+'px',(width*(cols+1))+'px',(boxHeight*(rows+1))+'px',(boxWidth*cols)+'px'];box=UI.$('<div class="uk-cover-background"></div>').css({'position':'absolute','top':0,'left':0,'opacity':0,'width':ghostWidth,'height':ghostHeight,'background-image':bgimage,'clip':('rect('+rect.join(',')+')'),'-webkit-transform':'translateZ(0)','transform':'translateZ(0)'});ghost.append(box)}} this.container.append(ghost);var boxes=shuffle(ghost.children());boxes.each(function(i){UI.$(this).css({'transition':'all '+$this.options.duration+'ms ease-in-out '+(50+i*25)+'ms','-webkit-transition':'all '+$this.options.duration+'ms ease-in-out '+(50+i*25)+'ms'})}).last().on(UI.support.transition.end,function(){setTimeout(function(){ghost.remove();d.resolve()},0)});ghost.width();boxes.css({opacity:1});return d.promise()},boxes:function(current,next,dir,fromfx){if(!next.data('cover')){return Animations.fade.apply(this,arguments)} var d=UI.$.Deferred();var boxCols=Math.round(this.options.slices/2),boxWidth=Math.round(next.width()/boxCols),boxRows=Math.round(next.height()/boxWidth),boxHeight=Math.round(next.height()/boxRows)+1,bgimage=next.data('cover').css('background-image'),ghost=UI.$('<li class="uk-slideshow-ghost"></li>').css({width:next.width(),height:next.height(),opacity:1,zIndex:15}),ghostWidth=next.width(),ghostHeight=next.height(),box,rect,width,cols;for(var rows=0;rows<boxRows;rows++){for(cols=0;cols<boxCols;cols++){width=(cols==boxCols-1)?(boxWidth+2):boxWidth;rect=[(boxHeight*rows)+'px',(width*(cols+1))+'px',(boxHeight*(rows+1))+'px',(boxWidth*cols)+'px'];box=UI.$('<div class="uk-cover-background"></div>').css({'position':'absolute','top':0,'left':0,'opacity':1,'width':ghostWidth,'height':ghostHeight,'background-image':bgimage,'transform-origin':rect[3]+' '+rect[0]+' 0','clip':('rect('+rect.join(',')+')'),'-webkit-transform':'scale(0.0000000000000001)','transform':'scale(0.0000000000000001)'});ghost.append(box)}} this.container.append(ghost);var rowIndex=0,colIndex=0,timeBuff=0,box2Darr=[[]],boxes=ghost.children(),prevCol;if(fromfx=='boxes-reverse'){boxes=[].reverse.apply(boxes)} boxes.each(function(){box2Darr[rowIndex][colIndex]=UI.$(this);colIndex++;if(colIndex==boxCols){rowIndex++;colIndex=0;box2Darr[rowIndex]=[]}});for(cols=0,prevCol=0;cols<(boxCols*boxRows);cols++){prevCol=cols;for(var row=0;row<boxRows;row++){if(prevCol>=0&&prevCol<boxCols){box2Darr[row][prevCol].css({'transition':'all '+this.options.duration+'ms linear '+(50+timeBuff)+'ms','-webkit-transition':'all '+this.options.duration+'ms linear '+(50+timeBuff)+'ms'})} prevCol--} timeBuff+=100} boxes.last().on(UI.support.transition.end,function(){setTimeout(function(){ghost.remove();d.resolve()},0)});ghost.width();boxes.css({'-webkit-transform':'scale(1)','transform':'scale(1)'});return d.promise()},'boxes-reverse':function(current,next,dir){return Animations.boxes.apply(this,[current,next,dir,'boxes-reverse'])},'random-fx':function(){var animations=['slice-up','fold','puzzle','slice-down','boxes','slice-up-down','boxes-reverse'];this.fxIndex=(this.fxIndex===undefined?-1:this.fxIndex)+1;if(!animations[this.fxIndex])this.fxIndex=0;return Animations[animations[this.fxIndex]].apply(this,arguments)}});var shuffle=function(arr){for(var j,x,i=arr.length;i;j=parseInt(Math.random()*i),x=arr[--i],arr[i]=arr[j],arr[j]=x){} return arr};return UI.slideshow.animations});
