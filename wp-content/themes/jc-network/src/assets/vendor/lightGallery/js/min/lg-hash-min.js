!function(t,o){"function"==typeof define&&define.amd?define([],function(){return o()}):"object"==typeof exports?module.exports=o():o()}(this,function(){!function($,t,o,e){"use strict";var s={hash:!0},i=function(o){return this.core=$(o).data("lightGallery"),this.core.s=$.extend({},s,this.core.s),this.core.s.hash&&(this.oldHash=t.location.hash,this.init()),this};i.prototype.init=function(){var o=this,e;o.core.$el.on("onAfterSlide.lg.tm",function(e,s,i){t.location.hash="lg="+o.core.s.galleryId+"&slide="+i}),$(t).on("hashchange.lg.hash",function(){e=t.location.hash;var s=parseInt(e.split("&slide=")[1],10);e.indexOf("lg="+o.core.s.galleryId)>-1?o.core.slide(s,!1,!1):o.core.lGalleryOn&&o.core.destroy()})},i.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?t.location.hash=this.oldHash:history.pushState?history.pushState("",o.title,t.location.pathname+t.location.search):t.location.hash="",this.core.$el.off(".lg.hash"))},$.fn.lightGallery.modules.hash=i}(jQuery,window,document)});