<?php
/**
 * Project Name:    Discover Jackson NC
 * Project URI:     https://www.discoverjacksonnc.com
 * Description:     Register taxonomies
 * Agency:          Rawle Murdy Associates
 * Agency URI:      https://www.rawlemurdy.com
 * Text Domain:     jctda
 *
 * @package         jctda
 * @since           20181207
 * @author          lpeterson
 */

// namespace Jctda;

class Taxonomies {
	private static $instance;

	public static function getInstance(): Taxonomies {
		if ( null === static::$instance ) {
			static::$instance = new static();
		}

		return static::$instance;
	}

	private function __construct() {
		add_action( 'init', [ $this, 'setup' ] );
	}

	public static function setup() {
		$taxonomies = [
			"public" => true,
			"show_ui" => true,
			"show_in_menu" => "jc-docs-menu",
			"show_in_nav_menus" => true,
			"query_var" => true,
			"show_admin_column" => true,
			"show_in_quick_edit" => true,
			"hierarchical" => false,
		];
		register_taxonomy( "jctda_category", "tda_docs", wp_parse_args( [
			"label" => "JCTDA Category",
			"labels" => [
				"name" => "JCTDA Category",
				"singular_name" => "JCTDA Category",
				"menu_name" => "Categories",
				"all_items" => "All Categories",
			],
			"rewrite" => [ 'slug' => 'tda', 'with_front' => true,  'hierarchical' => true, ],
			"hierarchical" => true,
		], $taxonomies ) );
	}
}
